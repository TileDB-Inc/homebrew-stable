language: c

os:
  - osx

before_install:
  - brew update
  - brew unlink python@2

script:
  # test regular build
  - travis_wait 45 brew install ./tiledb.rb
  - brew test ./tiledb.rb
  - brew uninstall tiledb

  # test head build
  - travis_wait 45 brew install ./tiledb.rb --HEAD
  - brew test tiledb
  - brew uninstall tiledb
